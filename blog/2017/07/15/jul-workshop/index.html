<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="icon" href="https://bangalore.python.org.in/assets/images/logo.jpg">

    <meta name="theme-color" content="#fffff" />

    <title>
        Device Interfacing Workshop – July, 2017
        | BangPypers</title>

    <meta name="description"
        content="Device Interfacing Workshop – July, 2017">

    <!-- <meta property="fb:app_id" content="" />
        <meta name="fb:page_id" content="" /> -->

    <meta property="og:title"
        content="Device Interfacing Workshop – July, 2017 | BangPypers">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://bangalore.python.org.in/blog/2017/07/15/jul-workshop/">

    <!-- <meta property="og:email" content=""/> -->

    <!-- <meta property="og:phone_number" content=""/> -->

    <meta property="og:locality" content="Bangalore" />
    <meta property="og:region" content="Karnataka" />
    <meta property="og:country-name" content="INDIA" />
    <meta property="og:site_name"
        content="Device Interfacing Workshop – July, 2017 | BangPypers" />
    <meta property="og:image"
        content="https://bangalore.python.org.in/assets/images/logo_og.jpg" />
    <meta property="og:image:width" content="630" />
    <meta property="og:image:height" content="630" />
    <meta property="og:description"
        content="Device Interfacing Workshop – July, 2017">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:creator" content="@__bangpypers__">
    <meta name="twitter:url" content="https://bangalore.python.org.in/blog/2017/07/15/jul-workshop/">
    <meta name="twitter:site" content="@__bangpypers__">
    <meta name="twitter:title"
        content="Device Interfacing Workshop – July, 2017 | BangPypers">
    <meta name="twitter:description"
        content="Device Interfacing Workshop – July, 2017">
    <meta name="twitter:domain" content="https://bangalore.python.org.in">
    <meta name="twitter:image:src"
        content="https://bangalore.python.org.in/assets/images/logo_og.jpg">

    <meta name="keywords" content="BangPypers, Python, Bangalore Python, Python Bangalore, Python User Group" />
    <meta name="author" content="ZeoSpec" />
    <meta name="subject" content="The Bangalore Python User Group">
    <meta name="copyright" content="BangPypers">
    <meta name="Classification" content="Community">
    <meta name="designer" content="ZeoSpec">
    <!-- <meta name="reply-to" content=""> -->
    <meta name="owner" content="BangPypers">
    <meta name="url" content="http://bangalore.python.org.in/">
    <meta name="identifier-URL" content="http://bangalore.python.org.in/">
    <meta name="directory" content="submission">
    <meta name="category" content="community">
    <meta http-equiv="cache-control" content="public" />
    <meta http-equiv="Expires" content="0">

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <link href="/assets/css/screen.css" rel="stylesheet">

    <link href="/assets/css/main.css" rel="stylesheet">

    <script src="/assets/js/jquery.min.js"></script>

</head>





<body class="layout-post">

    <!-- defer loading of font and font awesome -->
    <noscript id="deferred-styles">
        <link href="https://fonts.googleapis.com/css?family=Righteous%7CMerriweather:300,300i,400,400i,700,700i"
            rel="stylesheet">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css"
            integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    </noscript>
    <!-- Begin Menu Navigation
            ================================================== -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top mediumnavigation nav-down">

        <div class="container pr-0">

            <!-- Begin Logo -->
            <a class="navbar-brand" href="/">
                <img src="https://bangalore.python.org.in/assets/images/logo.jpg" alt="BangPypers">
            </a>
            <!-- End Logo -->

            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMediumish"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>


            <div class="collapse navbar-collapse" id="navbarMediumish">

                <!-- Begin Menu -->

                <ul class="navbar-nav ml-auto">

                    
                    <li class="nav-item">
                        
                        <a class="nav-link" href="/">Home</a>
                    </li>

                    
                    <li class="nav-item">
                        
                        <a class="nav-link" href="/about/">About</a>
                    </li>

                    
                    <li class="nav-item">
                        
                        <a class="nav-link" href="/library/">Library</a>
                    </li>

                    <li class="nav-item">
                        <a target="_blank" rel="noopener noreferrer" class="nav-link"
                            href="https://mail.python.org/mailman/listinfo/bangpypers">Mailing List</a>
                    </li>

                    <li class="nav-item">
                        <a target="_blank" rel="noopener noreferrer" class="nav-link"
                            href="https://www.meetup.com/BangPypers/">Meetup <i class="fab fa-meetup"></i></a>
                    </li>

                    <li class="nav-item">
                        <a target="_blank" rel="noopener noreferrer" class="nav-link"
                            href="https://www.facebook.com/bangpypers"><i class="fab fa-facebook-f"></i></a>
                    </li>
                    
                    <li class="nav-item">
                        <a target="_blank" rel="noopener noreferrer" class="nav-link"
                            href="https://twitter.com/__bangpypers__"><i class="fab fa-twitter"></i></a>
                    </li>

                    <li class="nav-item">
                        <a target="_blank" rel="noopener noreferrer" class="nav-link"
                            href="http://bangpypers.slack.com/"><i class="fab fa-slack"></i></a>
                    </li>

                    <script src="/assets/js/lunr.js"></script>


<style>
    .lunrsearchresult .title {color: #d9230f;}
    .lunrsearchresult .url {color: silver;}
    .lunrsearchresult a {display: block; color: #777;}
    .lunrsearchresult a:hover, .lunrsearchresult a:focus {text-decoration: none;}
    .lunrsearchresult a:hover .title {text-decoration: underline;}
</style>


<form class="bd-search" onSubmit="return lunr_search(document.getElementById('lunrsearch').value);">
    <input type="text" class="form-control text-small launch-modal-search" id="lunrsearch" name="q" maxlength="255" value="" placeholder="Type and enter..."/>
</form>

<div id="lunrsearchresults">
    <ul></ul>
</div>

<script src="/assets/js/lunrsearchengine.js"></script>

                </ul>

                <!-- End Menu -->

            </div>

        </div>
    </nav>
    <!-- End Navigation
                            ================================================== -->

    <div class="site-content">
        <div class="container">

            <!-- Site Title
                                        ================================================== -->
            <div class="mainheading">
                <h1 class="sitetitle">BangPypers</h1>
                <p class="lead">
                    The Bangalore Python User Group
                </p>
            </div>



            <!-- Content
                                            ================================================== -->
            <div class="main-content">
                <!-- Begin Article
    ================================================== -->
    <div class="container">
        <div class="row">
            
            <!-- Post Share -->
            <div class="col-md-2 pl-0">            
                <div class="share sticky-top sticky-top-offset">
    <p>
        Share
    </p>
    <ul>
        <li class="ml-1 mr-1">
            <a target="_blank" href="https://twitter.com/intent/tweet?text=Device Interfacing Workshop – July, 2017&url=https://bangalore.python.org.in/blog/2017/07/15/jul-workshop/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                <i class="fab fa-twitter"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://facebook.com/sharer.php?u=https://bangalore.python.org.in/blog/2017/07/15/jul-workshop/" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                <i class="fab fa-facebook-f"></i>
            </a>
        </li>

        <li class="ml-1 mr-1">
            <a target="_blank" href="https://www.linkedin.com/shareArticle?mini=true&url=https://bangalore.python.org.in/blog/2017/07/15/jul-workshop/" onclick="window.open(this.href, 'width=550,height=435');return false;">
                <i class="fab fa-linkedin-in"></i>
            </a>
        </li>

    </ul>
    <!-- 
    <div class="sep">
    </div>				
    <ul>
        <li> 
        <a  class="small smoothscroll" href="#disqus_thread"></a>
        </li>
    </ul>
     -->
</div>  
            </div>
            
            
            <!-- Post -->        
            
            
            <div class="col-md-9 flex-first flex-md-unordered">
                <div class="mainheading">
                    
                    <!-- Author Box -->
                    				
                    <div class="row post-top-meta">
                        <div class="col-xs-12 col-md-3 col-lg-2 text-center text-md-left mb-4 mb-md-0">
                            <a href="/authors/bangpypers/"><img class="author-thumb" src="https://bangalore.python.org.in/assets/images/authors/bangpypers.jpg" alt="BangPypers"></a>
                        </div>
                        <div class="col-xs-12 col-md-9 col-lg-10 text-center text-md-left">
                            <a class="link-dark" href="/authors/bangpypers/">BangPypers</a><a target="_blank" href="https://www.meetup.com/BangPypers/" class="btn follow">Follow</a>
                            <span class="author-description">The Bangalore Python User Group</span>						
                        </div> 
                    </div>				
                    
                    

                <!-- Authors -->
                
                <!-- End Authors -->

                    <!-- Post Title -->
                    <h1 class="posttitle">Device Interfacing Workshop – July, 2017</h1> 
                    
                </div>
                
                <!-- Post Featured Image -->
                <img class="featured-image img-fluid" src="https://bangalore.python.org.in/assets/images/posts/bangpyperscover.jpg" alt="">
                <!--  -->
                <!-- End Featured Image -->
                
                <!-- Post Content -->
                <div class="article-post">
                    <p>BangPypers organized a full-day workshop on 15/July/2017, titled, ‘Device interfacing with Python’. Workshop was conducted by folks from Zilogic Systems, Chennai – Vijay Kumar, Deepak, Babusubashchandar, and Rashid Muhammed – and the venue for the workshop was the corporate office of Treebo Hotels. Intent of the workshop was to initiate the participants on how to use Python programming language to interface with embedded hardware.</p>

<p>Workshop began with introduction to basics of embedded systems, understanding different types of operating systems, quick run through the GNU/Linux OS, then progressing towards hardware interfacing, device drivers, and serial communication, concluding with note on sysfs and how to use sysfs to control hardware. Workshop was a mix of theoritical concepts that preceded the hands-on sessions – Zilogic folks split the tasks of speaking as the slides rolled out for each session and helping the participants as part of the hands-on.</p>

<h2 id="embedded-linux-introduction">Embedded Linux Introduction</h2>

<p>Deepak began this session where he explained the various embedded software models, and the technical differences between firmware, threaded OS, GPOS, and RTOS. Then he proceeded to explain GNU/Linux OS with emphasis on Linux Kernel, it’s design model and the distinction between kernel and user space. This was followed by how files and file systems are managed in the kernel, the layout and the need for file systems. This concept was highlighted using an example of different file system formats including pseudo file systems like proc and sysfs. Linux’s boot process and rootfs was quickly talked through.</p>

<p>After touching upon the idea of embedded Linux, it’s pros and cons and the reasons why individuals are inclined to go for it, he explained the specifications and peripheral details of the Zilogic Zkit-ARM-VF51 and DietIO add-on board; this served as the target board for the workshop.</p>

<h2 id="device-interfacing-and-introduction-to-device-drivers">Device Interfacing and Introduction to Device Drivers</h2>

<p>Focus of this session was device interfacing and Vijay discussed two concepts – memory interfacing and device interfacing. He explained how memory interfacing works under the hood i.e. how blocks are addressed in memory and how read and write transaction happens in memory and also, how the same transaction with multiple RAM chips (using decoding logic.)</p>

<p>He went on to explain how memory interfacing can be used to do device interfacing via the concept called, memory-mapped I/O. He gave an overview of what memory map is and how hardware devices are mapped as memory addresses and simplified this with examples of using display controller and serial controller. At this point, he mentioned that memory mapped I/O cannot be used for all devices and moved on to the concept called controller based IO where a controller interfaces between the CPU and the device, acting as a translator.</p>

<p>This was  illustrated with examples like serial controller, I2C controller, and USB controller. The slides and talk were interspersed with tinkering on the target HW by asking the participants to try out code snippets.</p>

<p>Next major topic began with brief tntroduction to device drivers wherein the speaker explained how the OS abstracts away the differences in the hardware from the applications, using device drivers. Device drivers provide a consistent interface for the applications which is made possible because Unix kernel considers everything as file including physical devices. This presents a similarity in accessing files and IO devices.</p>

<p>This session covered details of how device files work, major and minor mode, and how the kernel uses these modes to invoke the respective driver required by the device. This was emphasized with code examples to show how to read (and interpret) inputs of mouse events, audio playback, read hard-disk partition table – all of this aided by reading from or writing to only device files.  He highlighted the limitations with this approach – it’s not possible to model all device operations, like control and configuration of the device, via reading and writing to files – and how it can be overcome with system call, <code class="highlighter-rouge">ioctl</code> with live example of ejecting the CD-ROM tray using ioctl.</p>

<h2 id="serial-interface">Serial Interface</h2>

<p>Babu handled this session in which the primary focus was about ‘Serial Communication’. With the short introduction on the internals of UART, it’s cost effective in comparison to communication via Parallel Ports. He highlighted problems like, interference, attenuation caused due to out of board (or band ???) connections and solutions to overcome them. This was followed by a working exampple of a GSM modem listening to incoming text messages whose text was displayed on the LCD of the target HW using Python module, <code class="highlighter-rouge">PySerial.</code></p>

<p>‘I2C’, an acronym for ‘Inter-Integrated Circuit’, a low speed serial bus developed by Philips, was taken up next. Outlining it’s features, like, clock rates, master-slave architecture, he went on to describe the I2C controller and how it’s used to connect I2C devices. Continuing with I2C protocol and how a transaction occurs, the participants, assisted by Babu and the rest of Zilogic folks, tried their hands on accessing accelerometer data and four way key using SMBus – this technology provides APIs for communicating with I2C slave.</p>

<h2 id="sysfs">Sysfs</h2>

<p>Vijay started off this session by explaining about /proc  filesystem, how it was used to obtain system and active processes from the kernel. With the grwoth of complex hardware, it became a necessity to export hardware information to system programs and eventually ‘/proc’ got cluttered with lots of non-process information. And also, the information in ‘/proc’ was not programmatically parsable though it was human readable. And hence, sysfs was born, which is an in-memory file system that exports information from kernel space to user space.</p>

<p>With few slides to show the characteristics of sysfs and it’s hierarchy, he explained as to how devices, using /sys/class, are grouped based on functionality and, /sys/bus, where devices are grouped based on their interface. The concepts of sysfs were demonstrated with a simple task involving how to read configuration information of network interfaces, device backlight, controlling radio switches (WiFi) using sysfs. The session ended with a comparison between ioctl and sysfs for controlling/configuring devices, and when to use what.</p>

<h2 id="gpios-and-pwm-interface">GPIOs and PWM interface</h2>

<p>Deepak explained the concepts of binary state high or low with simple devices like LEDs and how GPIOs can be used to switch between either of the two states thus allowing to turn ON/OFF the LEDs. With brief description of how to set the direction of GPIO pins depending on whether they act as output or input, he showed how GPIO interfaces can be accessed from user space applications through sysfs. Participants tried controlling an RGB LED and reading input from key (with the help of sysfs) on the target HW via GPIO pins.</p>

<p>PWM, which stands for ‘Pulse Width Modulation’, was lined up next – Deepak explained what is PWM, duty cycle and how they can be used to control the power generated from the source. Session ended with the partcipants attempting to control the oscillations of the piezzon buzzer on the target HW and, the speed of a DC motor , both achieved through PWM using sysfs.</p>

<h2 id="adc-interface">ADC interface</h2>

<p>Babu took this final session which was about Analog-to-Digital Convertor(ADC) – need for ADC, which helps to convert analog values to digital and why there are hardware devices that generate analog values that cannot be directly consumed by microcontroller(s). He showcased how to read the voltage changes in the Light Dependent Resistor(LDR) on th target HW through ADC using sysfs.</p>

<p>BangPypers team is very thankful to the amazing folks from Zilogic for their time and effort in conducting this workshop on embedded systems. We also thank Treebo for hosting the workshop. Hope the workshop participants had great fun and learning!</p>

<h1 id="some-pics-from-the-workshop">Some pics from the workshop</h1>

<p><img src="https://secure.meetupstatic.com/photos/event/9/f/3/b/highres_462880763.jpeg" alt="p1" />
<img src="https://secure.meetupstatic.com/photos/event/9/f/6/1/highres_462880801.jpeg" alt="p2" />
<img src="https://secure.meetupstatic.com/photos/event/9/f/6/c/highres_462880812.jpeg" alt="p3" /></p>

                </div>
                
                <!-- Post Date -->
                <p>
                    <small>
                        <span class="post-date"><time class="post-date" datetime="2017-07-15">15 Jul 2017</time></span>           
                        
                    </small>
                </p> 
                
                <!-- Post Categories -->
                <div class="after-post-tags">
                    <ul class="tags">
                        
                        
                        <li>
                            <a href="/archives/meetup/">meetup</a>
                        </li>
                        
                        <li>
                            <a href="/archives/talks/">talks</a>
                        </li>
                        
                        <li>
                            <a href="/archives/workshop/">workshop</a>
                        </li>
                        
                    </ul>
                </div>
                <!-- End Categories -->

                <!-- Prev/Next -->
                <div class="row PageNavigation d-flex justify-content-between font-weight-bold">
                    
                    <a class="prev d-block col-md-6" href="https://bangalore.python.org.in/blog/2017/07/08/jul-workshop/"> &laquo; Talks – July, 2017</a>
                    
                    
                    <a class="next d-block col-md-6 text-lg-right" href="https://bangalore.python.org.in/blog/2017/09/16/sep-talk/">Talks – Sep, 2017 &raquo; </a>
                    
                    <div class="clearfix"></div>
                </div>
                <!-- End Categories -->
                
            </div>
            <!-- End Post -->
            
        </div>
    </div>
    <!-- End Article ================================================== -->
        
        
        
        <!-- Begin Comments
            ================================================== -->
            
            <!-- 
                <div class="container">
                    <div id="comments" class="row justify-content-center mb-5">
                        <div class="col-md-8">              
                            <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = ''; 
        var disqus_developer = 0;
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = window.location.protocol + '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>
                
                        </div>
                    </div>
                </div>
                 -->
                
                <!--End Comments
                    ================================================== -->
            </div>

            <!-- Bottom Alert Bar
                                                ================================================== -->
            <div class="alertbar">
                <div class="container text-center">
                    <span><img src="https://bangalore.python.org.in/assets/images/logo_footer.jpg"
                            alt="">
                        <!-- &nbsp; Never miss a <b>update</b> from us, subscribe to our newsletter -->
                    </span>

                    <ul class="navbar-nav ml-auto" style="display:inline; margin: 2em;">

                        <li class="nav-item" style="display:inline; margin: 2em;">
                            <a href="/">Home</a>
                        </li>

                        <li class="nav-item" style="display:inline; margin: 2em;">
                            <a href="/about/">About</a>
                        </li>

                        <li class="nav-item" style="display:inline; margin: 2em;">
                            <a href="/library/">Library</a>
                        </li>

                        <li class="nav-item" style="display:inline; margin: 2em;">
                            <a target="_blank" rel="noopener noreferrer"
                                href="https://mail.python.org/mailman/listinfo/bangpypers">Mailing List</a>
                        </li>

                        <li class="nav-item" style="display:inline; margin: 2em;">
                            <a target="_blank" rel="noopener noreferrer"
                                href="https://www.meetup.com/BangPypers/">Meetup <i class="fab fa-meetup"></i></a>
                        </li>

                        <li class="nav-item" style="display:inline; margin: 2em;">
                            <a target="_blank" rel="noopener noreferrer" 
                                href="https://www.facebook.com/bangpypers"><i class="fab fa-facebook-f"></i></a>
                        </li>
                        
                        <li class="nav-item" style="display:inline; margin: 2em;">
                            <a target="_blank" rel="noopener noreferrer" 
                                href="https://twitter.com/__bangpypers__"><i class="fab fa-twitter"></i></a>
                        </li>
    
                        <li class="nav-item" style="display:inline; margin: 2em;">
                            <a target="_blank" rel="noopener noreferrer" 
                                href="http://bangpypers.slack.com/"><i class="fab fa-slack"></i></a>
                        </li>
    
                    </ul>

                </div>
            </div>

        </div><!-- /.container -->

        <!-- Categories Jumbotron ================================================== -->
        <div class="jumbotron fortags">
            <div class="d-flex h-100">
                <!-- <div class="col-md-4 align-self-center text-center h-100">
                                                        <div class="d-flex align-items-center justify-content-center h-100">
                                                            <h2 class="d-md-block d-none align-self-center">Explore →</h2>
                                                        </div>
                                                    </div> -->
                <div class="col-md-8 align-self-center text-center">
                    
                    
                    
                    <a href="/archives/meetup">Meetup (69)</a>
                    
                    <a href="/archives/poll">Poll (1)</a>
                    
                    <a href="/archives/devsprint">Devsprint (3)</a>
                    
                    <a href="/archives/workshop">Workshop (25)</a>
                    
                    <a href="/archives/talks">Talks (21)</a>
                    
                    <a href="/archives/working">Working (1)</a>
                    
                    <a href="/archives/codewalkthrough">Codewalkthrough (1)</a>
                    
                    <a href="/archives/conferences">Conferences (1)</a>
                    
                    <a href="/archives/devsprints">Devsprints (1)</a>
                    
                    
                    

                </div>
            </div>
        </div>



        <!-- Begin Footer
                                                ================================================== -->
        <footer class="footer">
            <div class="container">
                <div class="row">
                    <div class="col-md-6 col-sm-6 text-center text-lg-left">
                        Copyright © 2020 BangPypers
                    </div>
                    <div class="col-md-6 col-sm-6 text-center text-lg-right">
                        <a target="_blank" rel="noopener noreferrer"
                            href="https://github.com/wowthemesnet/mediumish-theme-jekyll">Mediumish</a> design rewritten
                        by <a target="_blank" rel="noopener noreferrer" href="https://zeospec.com/">ZeoSpec</a>
                    </div>
                </div>
            </div>
        </footer>
        <!-- End Footer
                                                    ================================================== -->


    </div>
    <!-- /.site-content>
                                                    
                                                    Bootstrap core JavaScript
                                                    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"
        integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous">
    </script>

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"
        integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous">
    </script>

    <script src="/assets/js/mediumish.js"></script>

    
    <script src="/assets/js/lazyload.js"></script>
    

    <script src="/assets/js/ie10-viewport-bug-workaround.js"></script>

    <!-- <script id="dsq-count-scr" src="//.disqus.com/count.js"></script> -->
</body>

</html>